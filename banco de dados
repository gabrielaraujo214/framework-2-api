# Create
def criar_usuario(nome, email, senha):
    conn = conectar()
    cursor = conn.cursor()
    cursor.execute('''INSERT INTO Usuarios (nome, email, senha) VALUES (?, ?, ?)''', (nome, email, senha))
    conn.commit()
    conn.close()

def criar_tarefa(usuario_id, descricao):
    conn = conectar()
    cursor = conn.cursor()
    cursor.execute('''INSERT INTO Tarefas (usuario_id, descricao) VALUES (?, ?)''', (usuario_id, descricao))
    conn.commit()
    conn.close()

# Read
def ler_usuarios():
    conn = conectar()
    cursor = conn.cursor()
    cursor.execute('''SELECT * FROM Usuarios''')
    usuarios = cursor.fetchall()
    conn.close()
    return usuarios

def ler_tarefas(usuario_id):
    conn = conectar()
    cursor = conn.cursor()
    cursor.execute('''SELECT * FROM Tarefas WHERE usuario_id = ?''', (usuario_id,))
    tarefas = cursor.fetchall()
    conn.close()
    return tarefas

# Update
def atualizar_status_tarefa(tarefa_id, novo_status):
    conn = conectar()
    cursor = conn.cursor()
    cursor.execute('''UPDATE Tarefas SET status = ? WHERE id = ?''', (novo_status, tarefa_id))
    conn.commit()
    conn.close()

# Delete
def deletar_usuario(usuario_id):
    conn = conectar()
    cursor = conn.cursor()
    cursor.execute('''DELETE FROM Usuarios WHERE id = ?''', (usuario_id,))
    conn.commit()
    conn.close()

def deletar_tarefa(tarefa_id):
    conn = conectar()
    cursor = conn.cursor()
    cursor.execute('''DELETE FROM Tarefas WHERE id = ?''', (tarefa_id,))
    conn.commit()
    conn.close()



